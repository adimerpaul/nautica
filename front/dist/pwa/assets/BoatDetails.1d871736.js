import{_ as V,Q as c,R as _,S as h,V as t,T as d,aB as g,W as l,$ as r,U as u,Z as m,aE as b,a0 as n,a4 as v,aC as B}from"./index.e28d3516.js";import{Q as k}from"./QPage.49d887e6.js";const w={name:"BoatDetails",data(){return{boat:{},file:null}},async created(){this.boat=await this.$axios.get(`/boats/${this.$route.params.id}`).then(i=>i.data)},methods:{diffDays(i){if(!i)return"";const s=new Date(i)-new Date;return Math.ceil(s/(1e3*60*60*24))},updateBoat(){this.$axios.put(`boats/${this.boat.id}`,this.boat).then(i=>{this.boat=i.data})},uploadBoat(i,s){this.file=s.target.files[0];const f=new FormData;f.append("file",this.file),f.append("field",i),this.$axios.post(`boatsFile/${this.boat.id}`,f).then(p=>{this.boat=p.data})}}},C={class:"row"},q={class:"col-12"},Q=t("div",{class:"text-caption"},"Nombre",-1),U={class:"text-subtitle1"},F={class:"row"},N={class:"col-12 col-md-4"},S=t("div",{class:"text-caption"},"Empresa",-1),E={class:"text-subtitle1"},I={class:"col-12 col-md-4"},T=t("div",{class:"text-caption"},"Direcci\xF3n",-1),A={class:"text-subtitle1"},L={class:"col-12 col-md-4"},z=t("div",{class:"text-caption"},"Tel\xE9fono Compania",-1),M={class:"text-subtitle1"},P={class:"col-12"},R={class:"col-12 col-md-6"},W=t("div",{class:"text-caption"},"DIF",-1),Z={class:"col-12 col-md-4"},j=t("div",{class:"text-caption"},"DIF fecha vencimiento",-1),G={class:"col-12 col-md-2"},H=t("div",{class:"text-caption"},"Dias para su vencimiento",-1),J={class:"text-h6 text-right q-mr-md text-bold q-mt-xs"},K={key:1,class:"text-negative"},O={class:"col-12"},X={class:"col-12 col-md-6"},Y=t("div",{class:"text-caption"},"Autoridad",-1),$={class:"col-12 col-md-4"},tt=t("div",{class:"text-caption"},"Autoridad fecha vencimiento",-1),et={class:"col-12 col-md-2"},at=t("div",{class:"text-caption"},"Dias para su vencimiento",-1),st={class:"text-h6 text-right q-mr-md text-bold q-mt-xs"},it={key:1,class:"text-negative"},ot={class:"col-12"},ct={class:"col-12 col-md-6"},dt=t("div",{class:"text-caption"},"Licencia",-1),lt={class:"col-12 col-md-4"},nt=t("div",{class:"text-caption"},"Licencia fecha vencimiento",-1),ft={class:"col-12 col-md-2"},_t=t("div",{class:"text-caption"},"Dias para su vencimiento",-1),ht={class:"text-h6 text-right q-mr-md text-bold q-mt-xs"},rt={key:1,class:"text-negative"};function ut(i,s,f,p,e,a){return c(),_(k,{class:"q-pa-xs bg-grey-3"},{default:h(()=>[t("div",C,[t("div",q,[d(B,null,{default:h(()=>[d(g,{class:"q-pa-md bg-primary text-white"},{default:h(()=>[Q,t("div",U,l(e.boat.name),1)]),_:1}),d(g,{class:"q-pa-xs"},{default:h(()=>{var y,x,D;return[t("div",F,[t("div",N,[S,t("div",E,l((y=e.boat.company)==null?void 0:y.name),1)]),t("div",I,[T,t("div",A,l((x=e.boat.company)==null?void 0:x.address),1)]),t("div",L,[z,t("div",M,l((D=e.boat.company)==null?void 0:D.phone),1)]),t("div",P,[d(r)]),t("div",R,[W,e.boat.dif?(c(),_(u,{key:0,icon:"visibility",dense:"",flat:"",href:i.$url+"../files/"+e.boat.dif,type:"a",target:"_blank"},null,8,["href"])):m("",!0),t("input",{type:"file",onChange:s[0]||(s[0]=o=>a.uploadBoat("dif",o))},null,32)]),t("div",Z,[j,d(b,{modelValue:e.boat.dif_fecha,"onUpdate:modelValue":[s[1]||(s[1]=o=>e.boat.dif_fecha=o),a.updateBoat],type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),t("div",G,[H,t("div",J,[a.diffDays(e.boat.dif_fecha)>0?(c(),n("span",{key:0,class:v({"text-positive":a.diffDays(e.boat.dif_fecha)>20,"text-warning":a.diffDays(e.boat.dif_fecha)<=20&&a.diffDays(e.boat.dif_fecha)>10,"text-negative":a.diffDays(e.boat.dif_fecha)<=10})},l(a.diffDays(e.boat.dif_fecha)),3)):(c(),n("span",K," Vencido "))])]),t("div",O,[d(r)]),t("div",X,[Y,e.boat.autoridad?(c(),_(u,{key:0,icon:"visibility",dense:"",flat:"",href:i.$url+"../files/"+e.boat.autoridad,type:"a",target:"_blank"},null,8,["href"])):m("",!0),t("input",{type:"file",onChange:s[2]||(s[2]=o=>a.uploadBoat("autoridad",o))},null,32)]),t("div",$,[tt,d(b,{modelValue:e.boat.autoridad_fecha,"onUpdate:modelValue":[s[3]||(s[3]=o=>e.boat.autoridad_fecha=o),a.updateBoat],type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),t("div",et,[at,t("div",st,[a.diffDays(e.boat.autoridad_fecha)>0?(c(),n("span",{key:0,class:v({"text-positive":a.diffDays(e.boat.autoridad_fecha)>20,"text-warning":a.diffDays(e.boat.autoridad_fecha)<=20&&a.diffDays(e.boat.autoridad_fecha)>10,"text-negative":a.diffDays(e.boat.autoridad_fecha)<=10})},l(a.diffDays(e.boat.autoridad_fecha)),3)):(c(),n("span",it," Vencido "))])]),t("div",ot,[d(r)]),t("div",ct,[dt,e.boat.licencia?(c(),_(u,{key:0,icon:"visibility",dense:"",flat:"",href:i.$url+"../files/"+e.boat.licencia,type:"a",target:"_blank"},null,8,["href"])):m("",!0),t("input",{type:"file",onChange:s[4]||(s[4]=o=>a.uploadBoat("licencia",o))},null,32)]),t("div",lt,[nt,d(b,{modelValue:e.boat.licencia_fecha,"onUpdate:modelValue":[s[5]||(s[5]=o=>e.boat.licencia_fecha=o),a.updateBoat],type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ft,[_t,t("div",ht,[a.diffDays(e.boat.licencia_fecha)>0?(c(),n("span",{key:0,class:v({"text-positive":a.diffDays(e.boat.licencia_fecha)>20,"text-warning":a.diffDays(e.boat.licencia_fecha)<=20&&a.diffDays(e.boat.licencia_fecha)>10,"text-negative":a.diffDays(e.boat.licencia_fecha)<=10})},l(a.diffDays(e.boat.licencia_fecha)),3)):(c(),n("span",rt," Vencido "))])])])]}),_:1})]),_:1})])])]),_:1})}var vt=V(w,[["render",ut]]);export{vt as default};
